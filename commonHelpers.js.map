{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';const imagesGallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\n\nexport function renderUsers(images) {\n  form.reset();\n\n  const markup = images\n    .map(image => {\n      return `<div class=\"card\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          </a>\n          <ul class=\"list\">\n            <li class=\"item\">Likes: <span>${image.likes}</span></li>\n            <li class=\"item\">Views: <span>${image.views}</span></li>\n            <li class=\"item\">Comments: <span>${image.comments}</span></li>\n            <li class=\"item\">Downloads: <span>${image.downloads}</span></li>\n          </ul>\n          </div>`;\n    })\n    .join('');\n\n  imagesGallery.innerHTML = markup;\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n","import SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n//const { default: iziToast } = require('izitoast');\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n// Controls the group number\n let page = 1;\n// Controls the number of items in the group\nlet per_page = 15;\nconst totalPages = Math.ceil(100 / per_page);\nconst loadMoreButton = document.querySelector(\".load\");\nconst button = document.querySelector('button');\nconst inputSearch = document.querySelector('.search');\nconst loader = document.querySelector('.loader');\nimport { renderUsers } from './render-functions';\n\nexport async function fetchImages(globalQuery) {\n  let inputSearchValue = inputSearch.value;\n  const url = `https://pixabay.com/api/?key=42766573-a347fa67a5b7233d1286bfaa7&q=${inputSearchValue}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${per_page}&page=${page}`;\n  \n\n  if (inputSearchValue) {\n    \n      try{\n        const response =  await axios.get(url);\n      \n     \n      \n      if (response.data.hits.length === 0) {\n                    loader.style.display = 'none'; \n                    loadMoreButton.style.display = 'none';\n                    iziToast.error({\n                        title: '',\n                        message: \"Sorry, no images found for your search. Please try again!\",\n                    });\n                } else {\n                    renderUsers(response.data.hits);\n                    loader.style.display = 'none'; \n                    loadMoreButton.style.display = 'block'; \n                }}\n        catch(error) {\n          console.log(error);\n        };\n       \n  \n  }\n  }\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderUsers } from './js/render-functions';\n\nconst button = document.querySelector('button');\nconst inputSearch = document.querySelector('.search');\nconst imagesGallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst loadMoreButton = document.querySelector(\".load\");\nlet page = 1;\n// Controls the number of items in the group\nlet per_page = 15;\nconst totalPages = Math.ceil(100 / per_page);\nlet globalQuery = '';\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\nloadMoreButton.style.display = 'none';\nconst submitSearchImages = form.addEventListener('submit', async function (e) {\n  e.preventDefault();\n  globalQuery = inputSearch.value;\n  page = 1;\n  loader.style.display = 'flex';\n  imagesGallery.innerHTML = '';\n  \n  try {\n   await fetchImages();\n   renderUsers(response.data.hits);\n   loadMoreButton.style.display = 'block';\n  }\n  \n  catch (error) {\n    console.log(error);\n  }\n\n // form.reset();\n});\ndebugger\nconst loadMoreImages = loadMoreButton.addEventListener('click', async function (e) {\n  e.preventDefault();\n  loader.style.display = 'none';\n    \n  try {\n   \n   await fetchImages(globalQuery);\n   \n    page += 1;\n    if (page > 1) {\n      //fetchPostsBtn.textContent = \"Fetch more images\";\n     }\n  }\n  \n  catch (error) {\n    iziToast.error({\n      color: 'red',\n      message: `:x: Sorry, there was a mistake. Please try again!`,\n      position: 'topRight',\n    });\n  }\n\n  //form.reset();\n});\n\n\n"],"names":["imagesGallery","form","renderUsers","images","markup","image","SimpleLightbox","page","per_page","loadMoreButton","inputSearch","loader","fetchImages","globalQuery","inputSearchValue","url","response","axios","iziToast","error","e"],"mappings":"owBAEqD,MAAMA,EAAgB,SAAS,cAAc,UAAU,EACtGC,EAAO,SAAS,cAAc,OAAO,EAEpC,SAASC,EAAYC,EAAQ,CAClCF,EAAK,MAAK,EAEV,MAAMG,EAASD,EACZ,IAAIE,GACI;AAAA,wCAC2BA,EAAM,aAAa;AAAA,8CACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4CAGxCA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA,iBAG1D,EACA,KAAK,EAAE,EAEVL,EAAc,UAAYI,EACT,IAAIE,EAAe,YAAY,EACvC,QAAO,CAClB,CClBC,IAAIC,EAAO,EAERC,EAAW,GAEf,MAAMC,EAAiB,SAAS,cAAc,OAAO,EACtC,SAAS,cAAc,QAAQ,EAC9C,MAAMC,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAGxC,eAAeC,EAAYC,EAAa,CAC7C,IAAIC,EAAmBJ,EAAY,MACnC,MAAMK,EAAM,qEAAqED,CAAgB,qEAAqEN,CAAQ,SAASD,CAAI,GAG3L,GAAIO,EAEA,GAAG,CACD,MAAME,EAAY,MAAMC,EAAM,IAAIF,CAAG,EAInCC,EAAS,KAAK,KAAK,SAAW,GACpBL,EAAO,MAAM,QAAU,OACvBF,EAAe,MAAM,QAAU,OAC/BS,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2DACjC,CAAqB,IAEDhB,EAAYc,EAAS,KAAK,IAAI,EAC9BL,EAAO,MAAM,QAAU,OACvBF,EAAe,MAAM,QAAU,QAClC,OACHU,EAAO,CACX,QAAQ,IAAIA,CAAK,CAE3B,CAGA,CCrCe,SAAS,cAAc,QAAQ,EAC9C,MAAMT,EAAc,SAAS,cAAc,SAAS,EAC9CV,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAO,SAAS,cAAc,OAAO,EACrCU,EAAS,SAAS,cAAc,SAAS,EACzCF,EAAiB,SAAS,cAAc,OAAO,EACrD,IAAIF,EAAO,EAIPM,EAAc,GACF,IAAIP,EAAe,aAAc,CAC/C,aAAc,IACd,aAAc,KAChB,CAAC,EACDG,EAAe,MAAM,QAAU,OACJR,EAAK,iBAAiB,SAAU,eAAgBmB,EAAG,CAC5EA,EAAE,eAAc,EAChBP,EAAcH,EAAY,MAC1BH,EAAO,EACPI,EAAO,MAAM,QAAU,OACvBX,EAAc,UAAY,GAE1B,GAAI,CACH,MAAMY,EAAW,EACjBV,EAAY,SAAS,KAAK,IAAI,EAC9BO,EAAe,MAAM,QAAU,OAC/B,OAEMU,EAAO,CACZ,QAAQ,IAAIA,CAAK,CAClB,CAGH,CAAC,EACD,SACuBV,EAAe,iBAAiB,QAAS,eAAgBW,EAAG,CACjFA,EAAE,eAAc,EAChBT,EAAO,MAAM,QAAU,OAEvB,GAAI,CAEH,MAAMC,EAAYC,CAAW,EAE5BN,GAAQ,EACJA,EAAO,CAGZ,MAEa,CACZW,EAAS,MAAM,CACb,MAAO,MACP,QAAS,oDACT,SAAU,UAChB,CAAK,CACF,CAGH,CAAC"}