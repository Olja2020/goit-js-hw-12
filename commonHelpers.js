import{a as y,S as f,i as c}from"./assets/vendor-95dc692e.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();document.querySelector(".gallery");document.querySelector(".form");let u=1,m=15;document.querySelector("button");const g=document.querySelector(".search");document.querySelector(".loader");async function d(){let r=g.value;const o=`https://pixabay.com/api/?key=42766573-a347fa67a5b7233d1286bfaa7&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${u}`;if(new URLSearchParams({per_page:m,page:u}),r)try{return(await y.get(o)).data}catch(a){console.log(a)}}document.querySelector("button");document.querySelector(".search");const h=document.querySelector(".gallery"),s=document.querySelector(".form"),p=document.querySelector(".loader");document.querySelector(".load");let i=1;const S=Math.ceil(100/limit);new f(".gallery a",{captionDelay:250,captionsData:"alt"});s.addEventListener("submit",async function(r){if(r.preventDefault(),p.style.display="flex",h.innerHTML="",i>S)return c.error({position:"topRight",message:"We're sorry, but you've reached the end of search results."});try{await d()}catch{c.error({color:"red",message:":x: Sorry, there was a mistake. Please try again!",position:"topRight"})}s.reset()});s.addEventListener("submit",async function(r){r.preventDefault(),p.style.display="flex";try{await d(),i+=1,i>1}catch{c.error({color:"red",message:":x: Sorry, there was a mistake. Please try again!",position:"topRight"})}s.reset()});
//# sourceMappingURL=commonHelpers.js.map
